# =============================================================================
# TechUties AI Platform - Environment Configuration Template
# =============================================================================
# Version: 3.0.0
# Description: Production-ready AI platform with MinIO, Tika, and enhanced security
# =============================================================================
# 
# IMPORTANT: Copy this file to .env and generate secure passwords!
# Run: ./tu-vm.sh generate-secrets
# =============================================================================

# =============================================================================
# HOST & DOMAIN CONFIGURATION
# =============================================================================
# HOST_IP will be auto-detected on first start, or set manually:
# HOST_IP=192.168.1.100
HOST_IP=
DOMAIN=tu.local

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_DB=ai_platform
POSTGRES_USER=ai_admin
POSTGRES_PASSWORD=CHANGE_ME_SECURE_PASSWORD

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_PASSWORD=CHANGE_ME_SECURE_PASSWORD

# =============================================================================
# N8N WORKFLOW AUTOMATION
# =============================================================================
N8N_USER=admin
N8N_PASSWORD=CHANGE_ME_SECURE_PASSWORD
N8N_ENCRYPTION_KEY=CHANGE_ME_32_CHAR_ENCRYPTION_KEY

# =============================================================================
# OPEN WEBUI CONFIGURATION
# =============================================================================
WEBUI_SECRET_KEY=CHANGE_ME_SECRET_KEY
WEBUI_JWT_SECRET_KEY=CHANGE_ME_JWT_SECRET_KEY
WEBUI_AUTH_SECRET=CHANGE_ME_AUTH_SECRET

# =============================================================================
# MINIO OBJECT STORAGE
# =============================================================================
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=CHANGE_ME_SECURE_PASSWORD

# =============================================================================
# PI-HOLE DNS CONFIGURATION
# =============================================================================
PIHOLE_PASSWORD=CHANGE_ME_SECURE_PASSWORD

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================
CERTBOT_EMAIL=info@techuties.com
COUNTRY=CH
CITY=Zurich

# =============================================================================
# RESOURCE LIMITS & OPTIMIZATION
# =============================================================================
OLLAMA_GPU_MEMORY=8G
POSTGRES_MEMORY=2G
REDIS_MEMORY=1G
MINIO_MEMORY=1G

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
ENABLE_METRICS=true
LOG_LEVEL=INFO
ENABLE_TRACING=false

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION=true

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
ENABLE_RATE_LIMITING=true
ENABLE_CORS=true
ENABLE_CSRF_PROTECTION=true
SESSION_TIMEOUT=3600

# Dashboard Control Token (for service management and allowlist control)
# Generated automatically by: ./tu-vm.sh generate-secrets
CONTROL_TOKEN=CHANGE_ME_CONTROL_TOKEN

# =============================================================================
# ADVANCED CONFIGURATION
# =============================================================================
# Connection pooling
POSTGRES_MAX_CONNECTIONS=100
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB

# Redis optimization
REDIS_MAXMEMORY=256mb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# Nginx optimization
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024
NGINX_KEEPALIVE_TIMEOUT=65

# Health check intervals (seconds)
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# =============================================================================
# SERVICE-SPECIFIC CONFIGURATION
# =============================================================================
# Apache Tika Configuration
TIKA_SERVER_PORT=9998
TIKA_LOG_LEVEL=INFO

# MinIO Configuration
MINIO_CONSOLE_ADDRESS=:9001
MINIO_SERVER_URL=https://api.minio.tu.local
MINIO_BROWSER_REDIRECT_URL=https://minio.tu.local

# =============================================================================
# SECURITY WARNINGS
# =============================================================================
# WARNING: Never use default passwords in production!
# WARNING: Generate strong, unique passwords for each service!
# WARNING: Store passwords securely and rotate them regularly!
# WARNING: This template contains placeholder values that MUST be changed!